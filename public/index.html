<!DOCTYPE html>
<html ng-app='QuipProQuo'>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
	<script type="text/javascript" src='app.js'></script>
	<title></title>
</head>
<body ng-controller='MainController as ctrl'>

	<div class="header">
		<!-- authentication -->
		<div class="loginSignup">
			<p><span class="green loginBtns" ng-click="ctrl.openSignUpForm()">SignUp</span> | <span class="blue loginBtns" ng-if="ctrl.loggedIn == false"  ng-click="ctrl.openLoginForm()">Login</span>
			<span class="red loginBtns" ng-if="ctrl.loggedIn == true" ng-click="ctrl.logout()"> Log Out</span></p>

		</div>

		<h1 class="logo"><span class="red">Q</span>uip <span class="green">P</span>ro <span class="blue">Q</span>uo</h1>

		<div class="welcomeUser">
			<p ng-if="ctrl.loggedIn == true">Welcome: <span class="purple">{{ ctrl.user.username }}!</span></p>
		</div>


	</div>

<!-- LOGIN FORM -->
	<div ng-if="ctrl.loginForm == true" class="ansFormModel">
		<h1 class="white">Login</h1>
		<p class='red'>{{ ctrl.err }}</p>
		<form class="submitAnsForm" ng-submit="ctrl.login(userPass)">
			<input class="textField" type="text" ng-model="userPass.username" placeholder=" username" required autofocus/>
			<input class="textField" type="password" ng-model="userPass.password" placeholder=" password" required/>
			<input class="submitBtn" type="submit"/>
		</form>
		<button class="closeBtn" ng-click="ctrl.openLoginForm()">Just Kidding</button>
	</div>

	<!-- SIGNUP FORM -->
	<div ng-if="ctrl.signUpForm == true" class="ansFormModel">
		<h1 class="white">SignUp</h1>
		<p class='red'>{{ ctrl.err }}</p>
		<form class="submitAnsForm" ng-submit="ctrl.createUser(userPass)">
			<input class="textField" type="text" ng-model="userPass.username" placeholder=" username" required autofocus/>
			<input class="textField" type="password" ng-model="userPass.password" placeholder=" password" required/>
			<input class="submitBtn" type="submit"/>
		</form>
		<button class="closeBtn" ng-click="ctrl.openSignUpForm()">Just Kidding</button>
	</div>

	<p class="intro"><span class="bigFont">Welcome to <span class="dosis"><span class="red">Q</span>uip <span class="green">P</span>ro <span class="blue">Q</span>uo</span></span><br> The objective is to answer whichever questions you choose with the funniest answer you can think of. You can also vote on your favorite answers submitted by other users! <br> <span ng-click="ctrl.openLoginForm()" ng-if="ctrl.loggedIn == false" class="pink clickable">To Answer Questions Please Login</span></p>





	<div class="categoryFlex">
		<div class="categoryCard bgRed" ng-click='ctrl.category1()'>
			<h1>Movies</h1>
		</div>

		<div class="categoryCard bgOrange" ng-click='ctrl.category2()'>
			<h1>Sports</h1>
		</div>

		<div class="categoryCard bgBlue" ng-click='ctrl.category3()'>
			<h1>Food</h1>
		</div>

		<div class="categoryCard bgGreen" ng-click='ctrl.category4()'>
			<h1>Music</h1>
		</div>

		<div class="categoryCard bgPurple" ng-click='ctrl.category5()'>
			<h1>Science</h1>
		</div>

		<div class="categoryCard bgPink" ng-click='ctrl.category6()'>
			<h1>Pop Culture</h1>
		</div>
	</div>

	<div class="questionFlex">
		<div ng-if='ctrl.category == 1' ng-repeat="question in ctrl.questions">
			<div class="questionCard bgLightRed" ng-if="question.category_id==1" ng-click='ctrl.pickQuestion(question)'>
				<h3>{{question.title}}</h3>
				<div ng-if='ctrl.questionID == question.id'>
					<p>{{question.content}}</p> <br>
				</div>
			</div>
			<div class="buttonBox bgLightRedNH" ng-if='ctrl.questionID == question.id'>
				<button ng-if='ctrl.loggedIn == true' class="answerButton" ng-click='ctrl.displayForm(question)'>Answer</button>
				<button class="viewAnswersBtn" ng-click="ctrl.viewAnswers(question)">View Answers</button>
			</div>
		</div>


		<div ng-if='ctrl.category == 2' ng-repeat="question in ctrl.questions">
			<div class="questionCard bgLightOrange" ng-if="question.category_id==2" ng-click='ctrl.pickQuestion(question)'>
					<h3>{{question.title}}</h3>
				<div ng-if='ctrl.questionID == question.id'>
					<p>{{question.content}}</p> <br>
				</div>
			</div>
			<div class="buttonBox bgLightOrangeNH" ng-if='ctrl.questionID == question.id'>
				<button ng-if='ctrl.loggedIn == true' class="answerButton" ng-click='ctrl.displayForm(question)'>Answer</button>
				<button class="viewAnswersBtn" ng-click="ctrl.viewAnswers(question)">View Answers</button>
			</div>
		</div>

		<div ng-if='ctrl.category == 3' ng-repeat="question in ctrl.questions">
			<div class="questionCard bgLightBlue" ng-if="question.category_id==3" ng-click='ctrl.pickQuestion(question)'>
					<h3>{{question.title}}</h3>
				<div ng-if='ctrl.questionID == question.id'>
					<p>{{question.content}}</p> <br>
				</div>
			</div>
			<div class="buttonBox bgLightBlueNH" ng-if='ctrl.questionID == question.id'>
				<button ng-if='ctrl.loggedIn == true' class="answerButton" ng-click='ctrl.displayForm(question)'>Answer</button>
				<button class="viewAnswersBtn" ng-click="ctrl.viewAnswers(question)">View Answers</button>
			</div>
		</div>

		<div ng-if='ctrl.category == 4' ng-repeat="question in ctrl.questions">
			<div class="questionCard bgLightGreen" ng-if="question.category_id==4" ng-click='ctrl.pickQuestion(question)'>
					<h3>{{question.title}}</h3>
				<div ng-if='ctrl.questionID == question.id'>
					<p>{{question.content}}</p> <br>
				</div>
			</div>
			<div class="buttonBox bgLightGreenNH" ng-if='ctrl.questionID == question.id'>
				<button ng-if='ctrl.loggedIn == true' class="answerButton" ng-click='ctrl.displayForm(question)'>Answer</button>
				<button class="viewAnswersBtn" ng-click="ctrl.viewAnswers(question)">View Answers</button>
			</div>
		</div>

		<div ng-if='ctrl.category == 5' ng-repeat="question in ctrl.questions">
			<div class="questionCard bgLightPurple" ng-if="question.category_id==5" ng-click='ctrl.pickQuestion(question)'>
					<h3>{{question.title}}</h3>
				<div ng-if='ctrl.questionID == question.id'>
					<p>{{question.content}}</p> <br>
				</div>
			</div>
			<div class="buttonBox bgLightPurpleNH" ng-if='ctrl.questionID == question.id'>
				<button ng-if='ctrl.loggedIn == true' class="answerButton" ng-click='ctrl.displayForm(question)'>Answer</button>
				<button class="viewAnswersBtn" ng-click="ctrl.viewAnswers(question)">View Answers</button>
			</div>
		</div>

		<div ng-if='ctrl.category == 6' ng-repeat="question in ctrl.questions">
			<div class="questionCard bgLightPink" ng-if="question.category_id==6" ng-click='ctrl.pickQuestion(question)'>
					<h3>{{question.title}}</h3>
				<div ng-if='ctrl.questionID == question.id'>
					<p>{{question.content}}</p> <br>
				</div>
			</div>
			<div class="buttonBox bgLightPinkNH" ng-if='ctrl.questionID == question.id'>
				<button ng-if='ctrl.loggedIn == true' class="answerButton" ng-click='ctrl.displayForm(question)'>Answer</button>
				<button class="viewAnswersBtn" ng-click="ctrl.viewAnswers(question)">View Answers</button>
			</div>
		</div>
	</div>




	<div class="viewAnswersModal" ng-if="ctrl.viewAnswersModal == true">
		<div class="ansModelHeader">

			<h3>{{ ctrl.questionTitle }} Answers</h3>
				<i class="material-icons closeX" ng-click="ctrl.viewAnswersModal = false">cancel</i>
		</div>


			<div class="ansScroll">
				<div class="ansBox" ng-repeat="answer in ctrl.findanswer | orderBy: '-upvote'">
					<p>{{ answer.username }}:</p> <p>{{ answer.content }}</p>  <p>{{ answer.upvote }}
						<i class="material-icons upVoteBtn" ng-click='ctrl.upvote(answer.id)'>sentiment_very_satisfied</i>
					</p>
				</div>
			</div>
	</div>
	<div class="answersModalSpacingBox" ng-if="ctrl.viewAnswersModal == true">
	</div>

	<div class="ansFormModel" ng-if='ctrl.display == true'>
		<p>{{ctrl.questionContent}}</p>
			<form class="submitAnsForm"  ng-submit='ctrl.addanswer()'>
				<input type='hidden' ng-model='ctrl.formData.username'>
				<input class="textField" type='text' placeholder=' Answer' ng-model='ctrl.formData.content' required autofocus>
				<input type='hidden' ng-model='ctrl.formData.upvote'>
				<input class="submitBtn" type='submit'>
			</form>

		<button class="closeBtn" ng-click='ctrl.closeModel()'>Close</button>
	</div>

</body>
</html>
